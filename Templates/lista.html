<!DOCTYPE html>
<html>
<head>
  <title>Accreditation Form</title>
  <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
     <link rel="stylesheet" type="text/css" href="../Static/css/main.css">
  <style>
    .flashcard {
      display: none;
      width: 400px;
      margin: 0 auto;
      border: 1px solid #ccc;
      padding: 20px;
      text-align: center;
    }

    .active {
      display: block;
    }

    #result {
      text-align: center;
      margin-top: 20px;
    }

    .resultFlashcard {
      background-color: #f1f1f1;
    }
  </style>
</head>
<body>

  <nav class="navbar">
    <div class="logotipo">
        <a href="C:\Users\Usuario\Documents\GitHub\Ovejas_BPG_Web_app\Templates\index.html">
            <img src="C:\Users\Usuario\Documents\GitHub\Ovejas_BPG_Web_app\Static\logo111.png" alt="Logo">
        </a>
    </div>
    <div class="navbar-nav">
        <a class="nav-link" href="C:\Users\Usuario\Documents\GitHub\Ovejas_BPG_Web_app\Templates\aprende.html" style="text-decoration: none; color: inherit;">Aprende</a>
        <a class="nav-link" href="C:\Users\Usuario\Documents\GitHub\Ovejas_BPG_Web_app\Templates\lista.html" style="text-decoration: none; color: inherit;">Lista de chequeo</a>
        <a class="nav-link" href="C:\Users\Usuario\Documents\GitHub\Ovejas_BPG_Web_app\Templates\acerca_de.html" style="text-decoration: none; color: inherit;">Acerca de</a>
    </div>
</nav>

<br/>
<br>
<br>
<br>
  <h1>Accreditation Form</h1>
  <br>
  <br>
  <div id="flashcardContainer">
    <div id="question1Flashcard" class="flashcard active" data-category="fundamentales">
      <h3>Question 1</h3>
      <label>
        <input type="radio" name="question1" value="yes"> Yes
      </label>
      <label>
        <input type="radio" name="question1" value="no"> No
      </label>
      <br>
      <button class="nextBtn">Next</button>
    </div>
    <div id="question2Flashcard" class="flashcard" data-category="mayores">
      <h3>Question 2</h3>
      <label>
        <input type="radio" name="question2" value="yes"> Yes
      </label>
      <label>
        <input type="radio" name="question2" value="no"> No
      </label>
      <br>
      <button class="nextBtn">Next</button>
    </div>
    <div id="question3Flashcard" class="flashcard" data-category="mayores">
      <h3>Question 3</h3>
      <label>
        <input type="radio" name="question3" value="yes"> Yes
      </label>
      <label>
        <input type="radio" name="question3" value="no"> No
      </label>
      <br>
      <button class="nextBtn">Next</button>
    </div>
    <div id="question4Flashcard" class="flashcard" data-category="menores">
      <h3>Question 4</h3>
      <label>
        <input type="radio" name="question4" value="yes"> Yes
      </label>
      <label>
        <input type="radio" name="question4" value="no"> No
      </label>
      <br>
      <button class="nextBtn">Next</button>
    </div>
    <div id="question5Flashcard" class="flashcard" data-category="menores">
      <h3>Question 5</h3>
      <label>
        <input type="radio" name="question5" value="yes"> Yes
      </label>
      <label>
        <input type="radio" name="question5" value="no"> No
      </label>
      <br>
      <button class="nextBtn">Next</button>
    </div>
    <div id="question6Flashcard" class="flashcard" data-category="menores">
      <h3>Question 6</h3>
      <label>
        <input type="radio" name="question6" value="yes"> Yes
      </label>
      <label>
        <input type="radio" name="question6" value="no"> No
      </label>
      <br>
      <button class="nextBtn">Next</button>
    </div>
    <div id="resultFlashcard" class="flashcard resultFlashcard">
      <h3>Accreditation Result</h3>
      <div id="result"></div>
    </div>
  </div>

  <script>
    const flashcards = document.querySelectorAll('.flashcard');
    let currentFlashcardIndex = 0;

    function showFlashcard(index) {
      flashcards.forEach(function(flashcard) {
        flashcard.classList.remove('active');
      });
      flashcards[index].classList.add('active');
    }

    function showNextFlashcard() {
      currentFlashcardIndex++;
      if (currentFlashcardIndex < flashcards.length - 1) {
        showFlashcard(currentFlashcardIndex);
      } else {
        calculateAccreditation();
      }
    }

    function calculateAccreditation() {
      const checkboxes = document.querySelectorAll('input[type="radio"]:checked');

      let fundamentalesCount = 0;
      let mayoresCount = 0;
      let menoresCount = 0;

      checkboxes.forEach(function(checkbox) {
        const category = checkbox.closest('.flashcard').getAttribute('data-category');
        if (category === 'fundamentales') {
          fundamentalesCount++;
        } else if (category === 'mayores') {
          mayoresCount++;
        } else if (category === 'menores') {
          menoresCount++;
        }
      });

      const totalFundamentales = document.querySelectorAll('[data-category="fundamentales"]').length;
      const totalMayores = document.querySelectorAll('[data-category="mayores"]').length;
      const totalMenores = document.querySelectorAll('[data-category="menores"]').length;

      const fundamentalesPercentage = (fundamentalesCount / totalFundamentales) * 100;
      const mayoresPercentage = (mayoresCount / totalMayores) * 100;
      const menoresPercentage = (menoresCount / totalMenores) * 100;

      let accreditation;
      if (
        fundamentalesPercentage === 100 &&
        mayoresPercentage > 80 &&
        menoresPercentage > 60
      ) {
        accreditation = 'Accredited';
      } else if (
        fundamentalesPercentage === 100 &&
        (mayoresPercentage <= 80 || menoresPercentage <= 60)
      ) {
        accreditation = 'Work hard';
      } else {
        accreditation = 'Not Accredited';
      }

      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = accreditation;
      showFlashcard(flashcards.length - 1);
    }

    const nextBtns = document.querySelectorAll('.nextBtn');
    nextBtns.forEach(function(btn) {
      btn.addEventListener('click', showNextFlashcard);
    });

    showFlashcard(0);
  </script>
</body>
</html>

